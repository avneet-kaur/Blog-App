
{% extends 'blog/base.html' %}
{% block content %}
<style>
  body {
    background:transparent;
  }
}

</style>
<div class="centerstage">
  {% for post in post_list %}
  <div class = "container">
  <script>
    var bgImageArray = ['https://images.unsplash.com/photo-1542086260-ddb62f405c8b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80', 'https://images.unsplash.com/photo-1493723843671-1d655e66ac1c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60',
    'https://images.unsplash.com/photo-1542366184-6fd4f2e8b1d4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80','https://images.unsplash.com/photo-1528995614270-18030581d4d3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80'],
    timer = 4;
    bgImageArray.forEach(function(img){
      new Image().src =  img;
    });

    function backgroundSequence() {
      window.clearTimeout();
      var k = 0;
      for (i = 0; i < bgImageArray.length; i++) {
        setTimeout(function(){
          document.documentElement.style.background = "url(" + bgImageArray[k] + ") no-repeat center center fixed";
          document.documentElement.style.backgroundSize ="cover";
          document.documentElement.style.opacity = "url(" + bgImageArray[k] + ") 0.5";
          if ((k + 1) === bgImageArray.length) {
            setTimeout(function() {
              backgroundSequence()
            }, (timer * 1000))
          }
          else {
            k++;
          }
        }, (timer * 1000) * i)
      }
    }
    backgroundSequence();
  </script>
  </div>
  <div class="image-box__content">
    <h1 style="font-family:Special Elite;font-size: 2em"><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h1>
    <div class="date">
      <p style="font-size: 1em"> <img src="https://img.icons8.com/material-outlined/24/000000/popular-woman.png" width="16" height="16"/>{{ post.published_date|date:"d M"}}</p>
    </div>
  </div>
  {% endfor %}
</div>
</<body>
  {% endblock %}
